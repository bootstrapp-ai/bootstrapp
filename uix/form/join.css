/**
 * UIX Join Styles
 * Groups elements together by joining their borders
 */

:where(.uix-join, uix-join) {
  display: inline-flex;
  --join-border-radius: var(--radius-md, 0.375rem);
  flex-direction: row;

  > * {
    margin: 0;
    flex: 0 0 auto;
  }

  /* Remove border radius from middle children */
  > *:not(:first-child):not(:last-child) {
    border-radius: 0;
  }

  /* First child - keep left radius */
  > *:first-child {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
  }

  /* Last child - keep right radius */
  > *:last-child {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }

  /* Only child - keep all radius */
  > *:only-child {
    border-radius: var(--join-border-radius);
  }

  /* Remove borders between adjacent items */
  > * + * {
    margin-left: -1px;
  }

  /* Bring focused/hovered items to front */
  > *:hover,
  > *:focus,
  > *:focus-within {
    position: relative;
    z-index: 1;
  }

  /* Vertical orientation */
  &[orientation="vertical"] {
    flex-direction: column;

    > * {
      width: 100%;
    }

    > * + * {
      margin-left: 0;
      margin-top: -1px;
    }

    > *:first-child {
      border-top-right-radius: var(--join-border-radius);
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;
    }

    > *:last-child {
      border-top-left-radius: 0;
      border-top-right-radius: 0;
      border-bottom-left-radius: var(--join-border-radius);
    }

    > *:not(:first-child):not(:last-child) {
      border-radius: 0;
    }
  }
}
