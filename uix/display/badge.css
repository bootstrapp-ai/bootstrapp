:where(.uix-badge) {
  /* Layout & Typography */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  white-space: nowrap;
  width: fit-content;
  box-sizing: border-box;

  font-weight: var(--badge-font-weight, 600);
  font-size: var(--badge-font-size, 0.75rem);
  line-height: var(--badge-line-height, 1rem);
  padding: var(--badge-padding-y, 0.15rem) var(--badge-padding-x, 0.5rem);

  /* Shape */
  border-radius: var(--badge-border-radius, var(--radius-md, 0.375rem));

  /* Default Borders (Transparent by default) */
  border: var(--badge-border-size, 0) solid
    var(--badge-border-color, transparent);

  /* Default Colors (Fallbacks) */
  background-color: var(--badge-bg);
  color: var(--badge-color);

  /* -------------------- SOLID VARIANTS (Default) -------------------- */
  /* Logic: Background is the color, Text is the high-contrast inverse */

  &[variant="default"] {
    --badge-bg: var(--color-surface-dark); /* Lighter gray */
    --badge-color: var(--color-surface-lighter); /* Dark gray text */
    --badge-border-color: var(--color-surface-dark);
  }

  &[variant="success"] {
    --badge-bg: var(--color-success);
    --badge-color: var(--color-inverse); /* Ensures contrast */
    --badge-border-color: var(--color-success-light); /* Subtle border definition */
  }

  &[variant="danger"] {
    --badge-bg: var(--color-danger);
    --badge-color: var(--color-inverse);
    --badge-border-color: var(--color-danger-light);
  }

  &[variant="warning"] {
    --badge-bg: var(--color-warning);
    --badge-color: var(--color-inverse); /* Or black if warning is bright yellow */
    --badge-border-color: var(--color-warning-light);
  }

  &[variant="info"] {
    --badge-bg: var(--color-info);
    --badge-color: var(--color-inverse);
    --badge-border-color: var(--color-info-light);
  }

  /* -------------------- OUTLINE VARIANTS -------------------- */
  /* Logic: Transparent BG. Use Lightness Stops (e.g. 60/70) for text/border 
     to ensure visibility on dark backgrounds */

  &[outline] {
    background-color: transparent;

    &[variant="default"] {
      --badge-border-color: var(--color-surface-dark);
      --badge-color: var(--color-surface-darker);
    }

    &[variant="success"] {
      /* Use dark variant to make it lighter/brighter than the base color */
      --badge-border-color: var(--color-success-dark);
      --badge-color: var(--color-success-dark);
    }

    &[variant="danger"] {
      --badge-border-color: var(--color-danger-dark);
      --badge-color: var(--color-danger-dark);
    }

    &[variant="warning"] {
      --badge-border-color: var(--color-warning-dark);
      --badge-color: var(--color-warning-dark);
    }

    &[variant="info"] {
      --badge-border-color: var(--color-info-dark);
      --badge-color: var(--color-info-dark);
    }
  }

  /* -------------------- SOFT VARIANTS (Modern Look) -------------------- */
  /* Logic: Low opacity background, bright text */

  &[soft] {
    border: 1px solid transparent;

    &[variant="success"] {
      background-color: color-mix(
        in srgb,
        var(--color-success),
        transparent 85%
      );
      color: var(--color-success-darker);
    }

    &[variant="danger"] {
      background-color: color-mix(in srgb, var(--color-danger), transparent 85%);
      color: var(--color-danger-darker);
    }

    &[variant="warning"] {
      background-color: color-mix(
        in srgb,
        var(--color-warning),
        transparent 85%
      );
      color: var(--color-warning-darker);
    }

    &[variant="info"] {
      background-color: color-mix(in srgb, var(--color-info), transparent 85%);
      color: var(--color-info-darker);
    }
  }
}

/* -------------------- SIZES -------------------- */
:where(.uix-badge)[size="sm"] {
  --badge-padding-y: 0.1rem;
  --badge-padding-x: 0.375rem;
  --badge-font-size: 0.7rem;
}

:where(.uix-badge)[size="md"] {
  --badge-padding-y: 0.15rem;
  --badge-padding-x: 0.5rem;
  --badge-font-size: 0.75rem;
}

:where(.uix-badge)[size="lg"] {
  --badge-padding-y: 0.25rem;
  --badge-padding-x: 0.75rem;
  --badge-font-size: 0.875rem;
}
