.uix-bottom-nav {
  /* Layout */
  display: block;
  width: 100%;

  /* Host attributes */
  &[fixed] {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 100;
  }

  &[variant="floating"] {
    --bottom-nav-bg: var(--color-surface);
    --bottom-nav-border-radius: var(--radius-xl);
    --bottom-nav-margin: var(--spacing-md);
    --bottom-nav-shadow: var(--shadow-lg);
  }

  &[variant="filled"] {
    --bottom-nav-item-active-bg: var(--color-primary);
    --bottom-nav-item-active-color: white;
  }
}

/* Navigation container */
.uix-bottom-nav::part(nav) {
  display: flex;
  align-items: center;
  justify-content: space-around;
  gap: var(--spacing-xs);
  min-height: 56px;
  padding: var(--spacing-xs) var(--spacing-sm);
  background: var(--bottom-nav-bg, var(--color-surface));
  border-top: 1px solid var(--color-border);
  box-shadow: var(--bottom-nav-shadow, var(--shadow-sm));

  /* Safe area support for iOS home indicator */
  padding-bottom: calc(var(--spacing-xs) + env(safe-area-inset-bottom));
  padding-left: calc(var(--spacing-sm) + env(safe-area-inset-left));
  padding-right: calc(var(--spacing-sm) + env(safe-area-inset-right));
}

/* Floating variant */
.uix-bottom-nav[variant="floating"]::part(nav) {
  margin: var(--bottom-nav-margin);
  margin-bottom: calc(var(--bottom-nav-margin) + env(safe-area-inset-bottom));
  border-radius: var(--bottom-nav-border-radius);
  border: none;
  width: calc(100% - (var(--bottom-nav-margin) * 2));
}

/* Navigation item */
.uix-bottom-nav::part(item) {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: var(--spacing-xs, 4px);
  padding: var(--spacing-xs) var(--spacing-sm);
  flex: 1;
  min-width: 0;
  color: var(--bottom-nav-item-color, var(--color-text-muted));
  text-decoration: none;
  border-radius: var(--radius-sm);
  transition: all 0.2s ease;
  cursor: pointer;

  /* Hover state */
  &:hover {
    background: var(--bottom-nav-item-hover-bg, var(--color-surface-light));
    color: var(--bottom-nav-item-hover-color, var(--color-text));
  }
}

/* Icon only */
.uix-bottom-nav:not([show-labels])::part(item) {
  padding: var(--spacing-sm);
}

/* Active state */
.uix-bottom-nav::part(item-active) {
  color: var(--bottom-nav-item-active-color, var(--color-primary));
}

/* Filled variant active state */
.uix-bottom-nav[variant="filled"]::part(item-active) {
  background: var(--bottom-nav-item-active-bg, var(--color-primary));
  color: var(--bottom-nav-item-active-color, white);
}

/* Icon */
.uix-bottom-nav::part(item) uix-icon {
  width: 24px;
  height: 24px;
  flex-shrink: 0;
}

/* Item label */
.uix-bottom-nav::part(label) {
  font-size: var(--font-size-xs);
  font-weight: 500;
  text-align: center;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: 100%;
}

/* Badge indicator */
.uix-bottom-nav::part(badge) {
  position: absolute;
  top: 2px;
  right: calc(50% - 16px);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 18px;
  height: 18px;
  padding: 0 4px;
  background: var(--color-danger);
  color: white;
  font-size: 10px;
  font-weight: 600;
  border-radius: 9px;
  border: 2px solid var(--bottom-nav-bg, var(--color-surface));
  z-index: 1;
}

/* Slot content styling */
.uix-bottom-nav a,
.uix-bottom-nav .nav-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: var(--spacing-xs, 4px);
  padding: var(--spacing-xs) var(--spacing-sm);
  flex: 1;
  min-width: 0;
  color: var(--bottom-nav-item-color, var(--color-text-muted));
  text-decoration: none;
  border-radius: var(--radius-sm);
  transition: all 0.2s ease;

  &:hover {
    background: var(--bottom-nav-item-hover-bg, var(--color-surface-light));
    color: var(--bottom-nav-item-hover-color, var(--color-text));
  }

  &.active {
    color: var(--bottom-nav-item-active-color, var(--color-primary));
  }
}

.uix-bottom-nav uix-icon {
  width: 24px;
  height: 24px;
}

.uix-bottom-nav span {
  font-size: var(--font-size-xs);
  font-weight: 500;
  text-align: center;
}
