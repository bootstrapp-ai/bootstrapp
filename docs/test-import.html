<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test UIX Import.js</title>

  <script type="importmap">
  {
    "imports": {
      "lit": "https://esm.sh/lit@3",
      "@bootstrapp/types": "/types/index.js",
      "@bootstrapp/view": "/view/index.js",
      "@bootstrapp/theme": "/theme/index.js",
      "@bootstrapp/uix/": "/uix/"
    }
  }
  </script>

  <link rel="stylesheet" href="/uix/theme.css">

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: system-ui, sans-serif;
      padding: 2rem;
      background: #f5f5f5;
    }

    h1 {
      margin-bottom: 1rem;
      color: #2c3e50;
    }

    .test-section {
      background: white;
      padding: 2rem;
      margin-bottom: 2rem;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .test-section h2 {
      margin-bottom: 1rem;
      color: #34495e;
    }

    .component-demo {
      padding: 1rem;
      background: #f9f9f9;
      border-radius: 4px;
      margin-top: 1rem;
    }

    .status {
      padding: 0.5rem 1rem;
      background: #e8f4f8;
      border-left: 4px solid #3498db;
      margin-bottom: 1rem;
      font-family: monospace;
    }
  </style>
</head>
<body>
  <h1>UIX Import.js Test Page</h1>

  <div class="test-section">
    <h2>Test 1: Selective Loading</h2>
    <div class="status" id="status1">Loading components: button, card, container...</div>
    <div class="component-demo">
      <uix-container>
        <uix-card>
          <h3 slot="header">Test Card</h3>
          <p>This card should render correctly if import.js loaded the components.</p>
          <div slot="footer">
            <uix-button primary>Primary Button</uix-button>
            <uix-button secondary>Secondary Button</uix-button>
          </div>
        </uix-card>
      </uix-container>
    </div>
  </div>

  <div class="test-section">
    <h2>Test 2: Check Component Registry</h2>
    <div class="status" id="status2">Checking COMPONENT_MAP...</div>
    <pre id="registry-output" style="background: #2c3e50; color: #ecf0f1; padding: 1rem; border-radius: 4px; overflow-x: auto;"></pre>
  </div>

  <script type="module">
    import UIX, { COMPONENT_MAP } from '@bootstrapp/uix/import.js?components=button,card,container';

    // Update status
    document.getElementById('status1').textContent = '✓ Components loaded successfully!';
    document.getElementById('status1').style.borderColor = '#27ae60';
    document.getElementById('status1').style.background = '#e8f8f5';

    // Display component map info
    const status2 = document.getElementById('status2');
    status2.textContent = `✓ Component registry available (${COMPONENT_MAP.size} components mapped)`;
    status2.style.borderColor = '#27ae60';
    status2.style.background = '#e8f8f5';

    // Show some component info
    const output = document.getElementById('registry-output');
    const examples = ['button', 'card', 'container'];
    const info = examples.map(name => {
      const comp = COMPONENT_MAP.get(name);
      return `${name}:\n  ${JSON.stringify(comp, null, 2)}`;
    }).join('\n\n');

    output.textContent = info;

    // Test that UIX is actually View
    console.log('[Test] UIX is View:', UIX.name === 'View');
    console.log('[Test] Can define custom component:', typeof UIX.define === 'function');
  </script>
</body>
</html>
